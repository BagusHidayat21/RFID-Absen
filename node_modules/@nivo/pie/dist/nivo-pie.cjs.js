"use strict";var e=require("react"),i=require("@nivo/core"),a=require("@nivo/arcs"),t=require("@nivo/legends"),n=require("react/jsx-runtime"),r=require("d3-shape"),o=require("@nivo/colors"),d=require("@nivo/tooltip"),s=require("@nivo/theming");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},l.apply(null,arguments)}function c(e,i){if(null==e)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(-1!==i.indexOf(t))continue;a[t]=e[t]}return a}var u,v=function(e){var i=e.width,a=e.height,r=e.legends,o=e.data,d=e.toggleSerie;return n.jsx(n.Fragment,{children:r.map((function(e,r){var s;return n.jsx(t.BoxLegendSvg,l({},e,{containerWidth:i,containerHeight:a,data:null!=(s=e.data)?s:o,toggleSerie:e.toggleSerie?d:void 0}),r)}))})},f={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcs","arcLinkLabels","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsSkipRadius:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var i=e.datum;return n.jsx(d.BasicTooltip,{id:i.id,value:i.formattedValue,enableChip:!0,color:i.color})},legends:[],role:"img",pixelRatio:"undefined"!=typeof window&&null!=(u=window.devicePixelRatio)?u:1},g=["points"],L=function(a){var t=a.data,n=a.id,r=void 0===n?f.id:n,d=a.value,s=void 0===d?f.value:d,c=a.valueFormat,u=a.colors,v=void 0===u?f.colors:u,g=i.usePropertyAccessor(r),L=i.usePropertyAccessor(s),h=i.useValueFormatter(c),b=o.useOrdinalColorScale(v,"id");return e.useMemo((function(){return t.map((function(e){var i,a=g(e),t=L(e),n={id:a,label:null!=(i=e.label)?i:a,hidden:!1,value:t,formattedValue:h(t),data:e};return l({},n,{color:b(n)})}))}),[t,g,L,h,b])},h=function(a){var t=a.data,n=a.startAngle,o=a.endAngle,d=a.innerRadius,s=a.outerRadius,c=a.padAngle,u=a.sortByValue,v=a.activeId,f=a.activeInnerRadiusOffset,g=a.activeOuterRadiusOffset,L=a.hiddenIds,h=a.forwardLegendData,b=e.useMemo((function(){var e=r.pie().value((function(e){return e.value})).startAngle(i.degreesToRadians(n)).endAngle(i.degreesToRadians(o)).padAngle(i.degreesToRadians(c));return u||e.sortValues(null),e}),[n,o,c,u]),A=e.useMemo((function(){var e=t.filter((function(e){return!L.includes(e.id)}));return{dataWithArc:b(e).map((function(e){var a=Math.abs(e.endAngle-e.startAngle);return l({},e.data,{arc:{index:e.index,startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:v===e.data.id?d-f:d,outerRadius:v===e.data.id?s+g:s,thickness:s-d,padAngle:e.padAngle,angle:a,angleDeg:i.radiansToDegrees(a)}})})),legendData:t.map((function(e){return{id:e.id,label:e.label,color:e.color,hidden:L.includes(e.id),data:e}}))}}),[b,t,L,v,d,f,s,g]),p=A.legendData,k=e.useRef(h);return e.useEffect((function(){"function"==typeof k.current&&k.current(p)}),[k,p]),A},b=function(i){var a=i.activeId,t=i.onActiveIdChange,n=i.defaultActiveId,r=void 0===n?null:n,o=void 0!==a,d=e.useState(o?null:r),s=d[0],l=d[1];return{activeId:o?a:s,setActiveId:e.useCallback((function(e){t&&t(e),o||l(e)}),[o,t,l])}},A=function(t){var n=t.data,r=t.width,o=t.height,d=t.innerRadius,s=void 0===d?f.innerRadius:d,u=t.startAngle,v=void 0===u?f.startAngle:u,L=t.endAngle,A=void 0===L?f.endAngle:L,p=t.padAngle,k=void 0===p?f.padAngle:p,R=t.sortByValue,m=void 0===R?f.sortByValue:R,I=t.cornerRadius,x=void 0===I?f.cornerRadius:I,C=t.fit,O=void 0===C?f.fit:C,M=t.activeInnerRadiusOffset,w=void 0===M?f.activeInnerRadiusOffset:M,y=t.activeOuterRadiusOffset,T=void 0===y?f.activeOuterRadiusOffset:y,S=t.activeId,W=t.onActiveIdChange,D=t.defaultActiveId,j=t.forwardLegendData,B=b({activeId:S,onActiveIdChange:W,defaultActiveId:D}),V=B.activeId,E=B.setActiveId,P=e.useState([]),G=P[0],F=P[1],q=e.useMemo((function(){var e,i=Math.min(r,o)/2,t=i*Math.min(s,1),n=r/2,d=o/2;if(O){var l=a.computeArcBoundingBox(n,d,i,v-90,A-90),u=l.points,f=c(l,g),L=Math.min(r/f.width,o/f.height),h={width:f.width*L,height:f.height*L};h.x=(r-h.width)/2,h.y=(o-h.height)/2,n=(n-f.x)/f.width*f.width*L+h.x,d=(d-f.y)/f.height*f.height*L+h.y,e={box:f,ratio:L,points:u},i*=L,t*=L}return{centerX:n,centerY:d,radius:i,innerRadius:t,debug:e}}),[r,o,s,v,A,O]),H=h({data:n,startAngle:v,endAngle:A,innerRadius:q.innerRadius,outerRadius:q.radius,padAngle:k,sortByValue:m,activeId:V,activeInnerRadiusOffset:w,activeOuterRadiusOffset:T,hiddenIds:G,forwardLegendData:j}),X=e.useCallback((function(e){F((function(i){return i.indexOf(e)>-1?i.filter((function(i){return i!==e})):[].concat(i,[e])}))}),[]);return l({arcGenerator:a.useArcGenerator({cornerRadius:x,padAngle:i.degreesToRadians(k)}),activeId:V,setActiveId:E,toggleSerie:X},H,q)},p=function(i){var a=i.dataWithArc,t=i.arcGenerator,n=i.centerX,r=i.centerY,o=i.radius,d=i.innerRadius;return e.useMemo((function(){return{dataWithArc:a,arcGenerator:t,centerX:n,centerY:r,radius:o,innerRadius:d}}),[a,t,n,r,o,d])},k=function(i){var t=i.center,r=i.data,o=i.arcGenerator,s=i.borderWidth,l=i.borderColor,c=i.isInteractive,u=i.onClick,v=i.onMouseEnter,f=i.onMouseMove,g=i.onMouseLeave,L=i.setActiveId,h=i.tooltip,b=i.transitionMode,A=d.useTooltip(),p=A.showTooltipFromEvent,k=A.hideTooltip,R=e.useMemo((function(){if(c)return function(e,i){null==u||u(e,i)}}),[c,u]),m=e.useMemo((function(){if(c)return function(i,a){p(e.createElement(h,{datum:i}),a),L(i.id),null==v||v(i,a)}}),[c,p,L,v,h]),I=e.useMemo((function(){if(c)return function(i,a){p(e.createElement(h,{datum:i}),a),null==f||f(i,a)}}),[c,p,f,h]),x=e.useMemo((function(){if(c)return function(e,i){k(),L(null),null==g||g(e,i)}}),[c,k,L,g]);return n.jsx(a.ArcsLayer,{center:t,data:r,arcGenerator:o,borderWidth:s,borderColor:l,transitionMode:b,onClick:R,onMouseEnter:m,onMouseMove:I,onMouseLeave:x})},R=["isInteractive","animate","motionConfig","theme","renderWrapper"],m=function(t){var r=t.data,o=t.id,d=void 0===o?f.id:o,s=t.value,l=void 0===s?f.value:s,c=t.valueFormat,u=t.sortByValue,g=void 0===u?f.sortByValue:u,h=t.layers,b=void 0===h?f.layers:h,R=t.startAngle,m=void 0===R?f.startAngle:R,I=t.endAngle,x=void 0===I?f.endAngle:I,C=t.padAngle,O=void 0===C?f.padAngle:C,M=t.fit,w=void 0===M?f.fit:M,y=t.innerRadius,T=void 0===y?f.innerRadius:y,S=t.cornerRadius,W=void 0===S?f.cornerRadius:S,D=t.activeInnerRadiusOffset,j=void 0===D?f.activeInnerRadiusOffset:D,B=t.activeOuterRadiusOffset,V=void 0===B?f.activeOuterRadiusOffset:B,E=t.width,P=t.height,G=t.margin,F=t.colors,q=void 0===F?f.colors:F,H=t.borderWidth,X=void 0===H?f.borderWidth:H,Y=t.borderColor,z=void 0===Y?f.borderColor:Y,N=t.enableArcLabels,U=void 0===N?f.enableArcLabels:N,J=t.arcLabel,K=void 0===J?f.arcLabel:J,Q=t.arcLabelsSkipAngle,Z=void 0===Q?f.arcLabelsSkipAngle:Q,$=t.arcLabelsSkipRadius,_=void 0===$?f.arcLabelsSkipRadius:$,ee=t.arcLabelsTextColor,ie=void 0===ee?f.arcLabelsTextColor:ee,ae=t.arcLabelsRadiusOffset,te=void 0===ae?f.arcLabelsRadiusOffset:ae,ne=t.arcLabelsComponent,re=t.enableArcLinkLabels,oe=void 0===re?f.enableArcLinkLabels:re,de=t.arcLinkLabel,se=void 0===de?f.arcLinkLabel:de,le=t.arcLinkLabelsSkipAngle,ce=void 0===le?f.arcLinkLabelsSkipAngle:le,ue=t.arcLinkLabelsOffset,ve=void 0===ue?f.arcLinkLabelsOffset:ue,fe=t.arcLinkLabelsDiagonalLength,ge=void 0===fe?f.arcLinkLabelsDiagonalLength:fe,Le=t.arcLinkLabelsStraightLength,he=void 0===Le?f.arcLinkLabelsStraightLength:Le,be=t.arcLinkLabelsThickness,Ae=void 0===be?f.arcLinkLabelsThickness:be,pe=t.arcLinkLabelsTextOffset,ke=void 0===pe?f.arcLinkLabelsTextOffset:pe,Re=t.arcLinkLabelsTextColor,me=void 0===Re?f.arcLinkLabelsTextColor:Re,Ie=t.arcLinkLabelsColor,xe=void 0===Ie?f.arcLinkLabelsColor:Ie,Ce=t.arcLinkLabelComponent,Oe=t.defs,Me=void 0===Oe?f.defs:Oe,we=t.fill,ye=void 0===we?f.fill:we,Te=t.isInteractive,Se=void 0===Te?f.isInteractive:Te,We=t.onClick,De=t.onMouseEnter,je=t.onMouseMove,Be=t.onMouseLeave,Ve=t.tooltip,Ee=void 0===Ve?f.tooltip:Ve,Pe=t.activeId,Ge=t.onActiveIdChange,Fe=t.defaultActiveId,qe=t.transitionMode,He=void 0===qe?f.transitionMode:qe,Xe=t.legends,Ye=void 0===Xe?f.legends:Xe,ze=t.forwardLegendData,Ne=t.role,Ue=void 0===Ne?f.role:Ne,Je=i.useDimensions(E,P,G),Ke=Je.outerWidth,Qe=Je.outerHeight,Ze=Je.margin,$e=Je.innerWidth,_e=Je.innerHeight,ei=L({data:r,id:d,value:l,valueFormat:c,colors:q}),ii=A({data:ei,width:$e,height:_e,fit:w,innerRadius:T,startAngle:m,endAngle:x,padAngle:O,sortByValue:g,cornerRadius:W,activeInnerRadiusOffset:j,activeOuterRadiusOffset:V,activeId:Pe,onActiveIdChange:Ge,defaultActiveId:Fe,forwardLegendData:ze}),ai=ii.dataWithArc,ti=ii.legendData,ni=ii.arcGenerator,ri=ii.centerX,oi=ii.centerY,di=ii.radius,si=ii.innerRadius,li=ii.setActiveId,ci=ii.toggleSerie,ui=i.bindDefs(Me,ai,ye),vi={arcs:null,arcLinkLabels:null,arcLabels:null,legends:null};b.includes("arcs")&&(vi.arcs=n.jsx(k,{center:[ri,oi],data:ai,arcGenerator:ni,borderWidth:X,borderColor:z,isInteractive:Se,onClick:We,onMouseEnter:De,onMouseMove:je,onMouseLeave:Be,setActiveId:li,tooltip:Ee,transitionMode:He},"arcs")),oe&&b.includes("arcLinkLabels")&&(vi.arcLinkLabels=n.jsx(a.ArcLinkLabelsLayer,{center:[ri,oi],data:ai,label:se,skipAngle:ce,offset:ve,diagonalLength:ge,straightLength:he,strokeWidth:Ae,textOffset:ke,textColor:me,linkColor:xe,component:Ce},"arcLinkLabels")),U&&b.includes("arcLabels")&&(vi.arcLabels=n.jsx(a.ArcLabelsLayer,{center:[ri,oi],data:ai,label:K,radiusOffset:te,skipAngle:Z,skipRadius:_,textColor:ie,transitionMode:He,component:ne},"arcLabels")),Ye.length>0&&b.includes("legends")&&(vi.legends=n.jsx(v,{width:$e,height:_e,data:ti,legends:Ye,toggleSerie:ci},"legends"));var fi=p({dataWithArc:ai,arcGenerator:ni,centerX:ri,centerY:oi,radius:di,innerRadius:si});return n.jsx(i.SvgWrapper,{width:Ke,height:Qe,margin:Ze,defs:ui,role:Ue,children:b.map((function(i,a){return void 0!==vi[i]?vi[i]:"function"==typeof i?n.jsx(e.Fragment,{children:e.createElement(i,fi)},a):null}))})},I=function(e){var a=e.isInteractive,t=void 0===a?f.isInteractive:a,r=e.animate,o=void 0===r?f.animate:r,d=e.motionConfig,s=void 0===d?f.motionConfig:d,u=e.theme,v=e.renderWrapper,g=c(e,R);return n.jsx(i.Container,{animate:o,isInteractive:t,motionConfig:s,renderWrapper:v,theme:u,children:n.jsx(m,l({isInteractive:t},g))})},x=["isInteractive","theme","renderWrapper"],C=function(r){var c=r.data,u=r.id,v=void 0===u?f.id:u,g=r.value,h=void 0===g?f.value:g,b=r.valueFormat,p=r.sortByValue,k=void 0===p?f.sortByValue:p,R=r.startAngle,m=void 0===R?f.startAngle:R,I=r.endAngle,x=void 0===I?f.endAngle:I,C=r.padAngle,O=void 0===C?f.padAngle:C,M=r.fit,w=void 0===M?f.fit:M,y=r.innerRadius,T=void 0===y?f.innerRadius:y,S=r.cornerRadius,W=void 0===S?f.cornerRadius:S,D=r.activeInnerRadiusOffset,j=void 0===D?f.activeInnerRadiusOffset:D,B=r.activeOuterRadiusOffset,V=void 0===B?f.activeOuterRadiusOffset:B,E=r.width,P=r.height,G=r.margin,F=r.pixelRatio,q=void 0===F?f.pixelRatio:F,H=r.colors,X=void 0===H?f.colors:H,Y=r.borderWidth,z=void 0===Y?f.borderWidth:Y,N=r.borderColor,U=void 0===N?f.borderColor:N,J=r.enableArcLabels,K=void 0===J?f.enableArcLabels:J,Q=r.arcLabel,Z=void 0===Q?f.arcLabel:Q,$=r.arcLabelsSkipAngle,_=void 0===$?f.arcLabelsSkipAngle:$,ee=r.arcLabelsTextColor,ie=void 0===ee?f.arcLabelsTextColor:ee,ae=r.arcLabelsRadiusOffset,te=void 0===ae?f.arcLabelsRadiusOffset:ae,ne=r.enableArcLinkLabels,re=void 0===ne?f.enableArcLinkLabels:ne,oe=r.arcLinkLabel,de=void 0===oe?f.arcLinkLabel:oe,se=r.arcLinkLabelsSkipAngle,le=void 0===se?f.arcLinkLabelsSkipAngle:se,ce=r.arcLinkLabelsOffset,ue=void 0===ce?f.arcLinkLabelsOffset:ce,ve=r.arcLinkLabelsDiagonalLength,fe=void 0===ve?f.arcLinkLabelsDiagonalLength:ve,ge=r.arcLinkLabelsStraightLength,Le=void 0===ge?f.arcLinkLabelsStraightLength:ge,he=r.arcLinkLabelsThickness,be=void 0===he?f.arcLinkLabelsThickness:he,Ae=r.arcLinkLabelsTextOffset,pe=void 0===Ae?f.arcLinkLabelsTextOffset:Ae,ke=r.arcLinkLabelsTextColor,Re=void 0===ke?f.arcLinkLabelsTextColor:ke,me=r.arcLinkLabelsColor,Ie=void 0===me?f.arcLinkLabelsColor:me,xe=r.isInteractive,Ce=void 0===xe?f.isInteractive:xe,Oe=r.onClick,Me=r.onMouseMove,we=r.tooltip,ye=void 0===we?f.tooltip:we,Te=r.activeId,Se=r.onActiveIdChange,We=r.defaultActiveId,De=r.legends,je=void 0===De?f.legends:De,Be=r.forwardLegendData,Ve=e.useRef(null),Ee=s.useTheme(),Pe=i.useDimensions(E,P,G),Ge=Pe.margin,Fe=Pe.innerWidth,qe=Pe.innerHeight,He=Pe.outerWidth,Xe=Pe.outerHeight,Ye=L({data:c,id:v,value:h,valueFormat:b,colors:X}),ze=A({data:Ye,width:Fe,height:qe,fit:w,innerRadius:T,startAngle:m,endAngle:x,padAngle:O,sortByValue:k,cornerRadius:W,activeInnerRadiusOffset:j,activeOuterRadiusOffset:V,activeId:Te,onActiveIdChange:Se,defaultActiveId:We,forwardLegendData:Be}),Ne=ze.dataWithArc,Ue=ze.arcGenerator,Je=ze.centerX,Ke=ze.centerY,Qe=ze.radius,Ze=ze.innerRadius,$e=ze.setActiveId,_e=o.useInheritedColor(U,Ee),ei=a.useArcLabels({data:Ne,label:Z,skipAngle:_,offset:te,textColor:ie}),ii=a.useArcLinkLabels({data:Ne,skipAngle:le,offset:ue,diagonalLength:fe,straightLength:Le,label:de,linkColor:Ie,textOffset:pe,textColor:Re});e.useEffect((function(){if(Ve.current){Ve.current.width=He*q,Ve.current.height=Xe*q;var e=Ve.current.getContext("2d");e.scale(q,q),e.fillStyle=Ee.background,e.fillRect(0,0,He,Xe),e.save(),e.translate(Ge.left,Ge.top),Ue.context(e),e.save(),e.translate(Je,Ke),Ne.forEach((function(i){e.beginPath(),e.fillStyle=i.color,e.strokeStyle=_e(i),e.lineWidth=z,Ue(i.arc),e.fill(),z>0&&e.stroke()})),!0===re&&a.drawCanvasArcLinkLabels(e,ii,Ee,be),!0===K&&a.drawCanvasArcLabels(e,ei,Ee),e.restore(),je.forEach((function(i){t.renderLegendToCanvas(e,l({},i,{data:Ne,containerWidth:Fe,containerHeight:qe,theme:Ee}))}))}}),[Ve,Fe,qe,He,Xe,Ge.top,Ge.left,q,Je,Ke,Ue,Ne,z,_e,K,ei,re,ii,be,je,Ee]);var ai=e.useMemo((function(){return Ne.map((function(e){return l({id:e.id},e.arc)}))}),[Ne]),ti=function(e){if(!Ve.current)return null;var t=i.getRelativeCursor(Ve.current,e),n=t[0],r=t[1],o=a.findArcUnderCursor(Ge.left+Je,Ge.top+Ke,Qe,Ze,ai,n,r);return o?Ne.find((function(e){return e.id===o.id})):null},ni=d.useTooltip(),ri=ni.showTooltipFromEvent,oi=ni.hideTooltip,di=function(i){var a=ti(i);a?(null==Me||Me(a,i),$e(a.id),ri(e.createElement(ye,{datum:a}),i)):($e(null),oi())};return n.jsx("canvas",{ref:Ve,width:He*q,height:Xe*q,style:{width:He,height:Xe,cursor:Ce?"auto":"normal"},onMouseEnter:Ce?di:void 0,onMouseMove:Ce?di:void 0,onMouseLeave:Ce?function(){oi()}:void 0,onClick:Ce?function(e){if(Oe){var i=ti(e);i&&Oe(i,e)}}:void 0})},O=function(e){var a=e.isInteractive,t=void 0===a?f.isInteractive:a,r=e.theme,o=e.renderWrapper,d=c(e,x);return n.jsx(i.Container,{isInteractive:t,renderWrapper:o,theme:r,children:n.jsx(C,l({isInteractive:t},d))})};exports.Pie=I,exports.PieCanvas=O,exports.ResponsivePie=function(e){return n.jsx(i.ResponsiveWrapper,{children:function(i){var a=i.width,t=i.height;return n.jsx(I,l({width:a,height:t},e))}})},exports.ResponsivePieCanvas=function(e){return n.jsx(i.ResponsiveWrapper,{children:function(i){var a=i.width,t=i.height;return n.jsx(O,l({width:a,height:t},e))}})},exports.defaultProps=f,exports.useNormalizedData=L,exports.usePie=function(t){var n=t.data,r=t.radius,o=t.innerRadius,d=t.startAngle,s=void 0===d?f.startAngle:d,c=t.endAngle,u=void 0===c?f.endAngle:c,v=t.padAngle,g=void 0===v?f.padAngle:v,L=t.sortByValue,A=void 0===L?f.sortByValue:L,p=t.cornerRadius,k=void 0===p?f.cornerRadius:p,R=t.activeInnerRadiusOffset,m=void 0===R?f.activeInnerRadiusOffset:R,I=t.activeOuterRadiusOffset,x=void 0===I?f.activeOuterRadiusOffset:I,C=t.activeId,O=t.onActiveIdChange,M=t.defaultActiveId,w=t.forwardLegendData,y=b({activeId:C,onActiveIdChange:O,defaultActiveId:M}),T=y.activeId,S=y.setActiveId,W=e.useState([]),D=W[0],j=W[1],B=h({data:n,startAngle:s,endAngle:u,innerRadius:o,outerRadius:r,padAngle:g,sortByValue:A,activeId:T,activeInnerRadiusOffset:m,activeOuterRadiusOffset:x,hiddenIds:D,forwardLegendData:w}),V=e.useCallback((function(e){j((function(i){return i.indexOf(e)>-1?i.filter((function(i){return i!==e})):[].concat(i,[e])}))}),[]);return l({},B,{arcGenerator:a.useArcGenerator({cornerRadius:k,padAngle:i.degreesToRadians(g)}),setActiveId:S,toggleSerie:V})},exports.usePieArcs=h,exports.usePieFromBox=A,exports.usePieLayerContext=p;
//# sourceMappingURL=nivo-pie.cjs.js.map
